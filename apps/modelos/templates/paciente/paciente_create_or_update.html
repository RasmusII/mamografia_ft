{% extends 'layout.html' %}

{% block body_url %}
<ol class="breadcrumb float-sm-right">
    <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
    <li class="breadcrumb-item"><a href="{% url 'core:pacientes_list' %}" class="active">Catalog</a></li>
</ol>
{% endblock %}

{% block content %}
<div class="card ml-5 mr-5 p-4">
    <div class="card-body">
        <form method="post" action="" enctype="multipart/form-data" id="paciente_re">
            {% csrf_token %}
            <input type="hidden" value="{{action}}" name="action">

            {{ form.as_p }}
            {{ form_image.as_p }}
            
            

            <button type="submit" class="btn btn-primary">Confirmar</button>
            <a href="{% url 'core:pacientes_list' %}" class="btn btn-outline-secondary">Cancelar</a>
        </form>
    </div>
</div>
{% endblock %}

{% block javascript %}
<script type="text/javascript">
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                // Asignamos el atributo src a la tag de imagen
                $('#imagenmuestra').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    
    // El listener va asignado al input
    $("#imagen").change(function () {
        readURL(this);
    });
</script>
{% endblock %}